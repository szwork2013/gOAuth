"use strict";!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.propagating=e()}(function(){var e=null;return function n(t,r){function a(e){return e.match(/[^ ]+/g)}function o(n){if("hammer.input"!==n.type){if(n.srcEvent._handled||(n.srcEvent._handled={}),n.srcEvent._handled[n.type])return;n.srcEvent._handled[n.type]=!0}var t=!1;n.stopPropagation=function(){t=!0};var r=n.srcEvent.stopPropagation;"function"==typeof r&&(n.srcEvent.stopPropagation=function(){r(),n.stopPropagation()}),n.firstTarget=e;for(var a=e;a&&!t;){if(a.hammer)for(var o,f=0;f<a.hammer.length;f++)if(o=a.hammer[f]._handlers[n.type])for(var i=0;i<o.length&&!t;i++)o[i](n);a=a.parentNode}}var f=r||{preventDefault:!1};if(t.Manager){var i=t,u=function(e,t){var r=Object.create(f);return t&&i.extend(r,t),n(new i(e,r),r)};return i.extend(u,i),u.Manager=function(e,t){var r=Object.create(f);return t&&i.extend(r,t),n(new i.Manager(e,r),r)},u}var c=Object.create(t),d=t.element;return d.hammer||(d.hammer=[]),d.hammer.push(c),t.on("hammer.input",function(n){(f.preventDefault===!0||f.preventDefault===n.pointerType)&&n.preventDefault(),n.isFirst&&(e=n.target)}),c._handlers={},c.on=function(e,n){return a(e).forEach(function(e){var r=c._handlers[e];r||(c._handlers[e]=r=[],t.on(e,o)),r.push(n)}),c},c.off=function(e,n){return a(e).forEach(function(e){var r=c._handlers[e];r&&(r=n?r.filter(function(e){return e!==n}):[],r.length>0?c._handlers[e]=r:(t.off(e,o),delete c._handlers[e]))}),c},c.emit=function(n,r){e=r.target,t.emit(n,r)},c.destroy=function(){var e=t.element.hammer,n=e.indexOf(c);-1!==n&&e.splice(n,1),e.length||delete t.element.hammer,c._handlers={},t.destroy()},c}});