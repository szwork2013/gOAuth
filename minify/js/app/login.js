function init(){$(".app").css("overflow","hidden"),"true"==sessionStorage.isrecover&&(delete sessionStorage.isrecover,$("body").css("overflow","hidden"),$(".app_alert .modal-title").html("恭喜您！"),$(".app_alert .modal-body").html("密码重置成功，请登录"),$(".app_alert .confirm").hide(),$("#btnGb").html("确定"),$(".app_alert").addClass("success").show()),$(".ico_eyes").click(function(){$(this).parent().hasClass("app_active")?$(this).parent().removeClass("app_active").find(".txt_password").prop("type","password"):$(this).parent().addClass("app_active").find(".txt_password").prop("type","text")}),$validators.init({mobile:{notEmpty:{message:"* 手机号码不能为空"},regular:{reg:/^(0|86|17951)?(13[0-9]|15[012356789]|17[1678]|18[0-9]|14[57])[0-9]{8}$/,message:"* 手机号码必须合法且为11位数字"}},password:{notEmpty:{message:"* 登录密码不能为空"},stringLength:{min:6,max:20,message:"* 登录密码长度只允许输入6到20位"},regular:{reg:/^\w{6,20}$/,message:"* 登录密码只能包含数字、字母、下划线"}}});var a=!0;$(".btn_login").click(function(){$validators.start()&&a&&(a=!1,$.ajax({url:"/api/login",type:"post",data:{mobile:$("input[name='mobile']").val(),password:$("input[name='password']").val()},success:function(e){switch(a=!0,e.errcode){case 0:sessionStorage.bangding=!0,location.href="/open/home";break;case 400:$("body").css("overflow","hidden"),$(".app_alert .modal-title").html("对不起！"),$(".app_alert .modal-body").html("手机号码不存在"),$(".app_alert .confirm").hide(),$("#btnGb").html("确定"),$(".app_alert").addClass("warning").show();break;case 402:$("body").css("overflow","hidden"),$(".app_alert .modal-title").html("对不起！"),$(".app_alert .modal-body").html("手机号码被冻结"),$(".app_alert .confirm").hide(),$("#btnGb").html("确定"),$(".app_alert").addClass("warning").show();break;case 401:$("body").css("overflow","hidden"),$(".app_alert .modal-title").html("对不起！"),$(".app_alert .modal-body").html("手机号码或登录密码不正确"),$(".app_alert .confirm").hide(),$("#btnGb").html("确定"),$(".app_alert").addClass("warning").show();break;case 499:$("body").css("overflow","hidden"),$(".app_alert .modal-title").html("摊上大事啦！"),$(".app_alert .modal-body").html("服务器维护中..."),$(".app_alert .confirm").hide(),$("#btnGb").html("确定"),$(".app_alert").addClass("error").show();break;case 403:$("body").css("overflow","hidden"),$(".app_alert .modal-title").html("对不起！"),$(".app_alert .modal-body").html("手机号码不能为空"),$(".app_alert .confirm").hide(),$("#btnGb").html("确定"),$(".app_alert").addClass("warning").show();break;case 404:$("body").css("overflow","hidden"),$(".app_alert .modal-title").html("对不起！"),$(".app_alert .modal-body").html("登录密码不能为空"),$(".app_alert .confirm").hide(),$("#btnGb").html("确定"),$(".app_alert").addClass("warning").show()}}}))})}