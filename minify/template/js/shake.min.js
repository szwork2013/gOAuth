;
//#../../public/template/js/shake.js
(function(e,t){typeof define=="function"&&define.amd?define(function(){return t(e,e.document)}):typeof module!="undefined"&&module.exports?module.exports=t(e,e.document):e.Shake=t(e,e.document)})(typeof window!="undefined"?window:this,function(e,t){"use strict";function n(n){this.hasDeviceMotion="ondevicemotion"in e,this.options={threshold:15,timeout:1e3};if(typeof n=="object")for(var r in n)n.hasOwnProperty(r)&&(this.options[r]=n[r]);this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null;if(typeof t.CustomEvent=="function")this.event=new t.CustomEvent("shake",{bubbles:!0,cancelable:!0});else{if(typeof t.createEvent!="function")return!1;this.event=t.createEvent("Event"),this.event.initEvent("shake",!0,!0)}}return n.prototype.reset=function(){this.lastTime=new Date,this.lastX=null,this.lastY=null,this.lastZ=null},n.prototype.start=function(){this.reset(),this.hasDeviceMotion&&e.addEventListener("devicemotion",this,!1)},n.prototype.stop=function(){this.hasDeviceMotion&&e.removeEventListener("devicemotion",this,!1),this.reset()},n.prototype.devicemotion=function(t){var n=t.accelerationIncludingGravity,r,i,s=0,o=0,u=0;if(this.lastX===null&&this.lastY===null&&this.lastZ===null){this.lastX=n.x,this.lastY=n.y,this.lastZ=n.z;return}s=Math.abs(this.lastX-n.x),o=Math.abs(this.lastY-n.y),u=Math.abs(this.lastZ-n.z);if(s>this.options.threshold&&o>this.options.threshold||s>this.options.threshold&&u>this.options.threshold||o>this.options.threshold&&u>this.options.threshold)r=new Date,i=r.getTime()-this.lastTime.getTime(),i>this.options.timeout&&(e.dispatchEvent(this.event),this.lastTime=new Date);this.lastX=n.x,this.lastY=n.y,this.lastZ=n.z},n.prototype.handleEvent=function(e){if(typeof this[e.type]=="function")return this[e.type](e)},n});
