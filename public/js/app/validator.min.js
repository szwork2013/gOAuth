$validators = {
	// 验证结构体
	data: null,
	// 绑定验证
	init: function(validators) {
		// 存验证结构
		$validators.data = validators;
		// 绑定实时验证
		if (arguments[1]) {
			// 实时对象
			var arr = arguments[1];
			// 循环绑定
			for (var i=0; i < arr.length; i++) {
				// 键入验证事件
				$("input[name='" + arr[i] + "']").attr("key", arr[i]).keyup(function() {
					// 生成验证结构体
					var data = {}, key = $(this).attr("key");
					// 赋值结构
					data[key] = $validators.data[key];
					// 是否验证成功
					if (data[key].callback) {
						// 执行验证并回调
						data[key].callback($validators.start(data));
					}
				}).change(function() {
					// 生成验证结构体
					var data = {}, key = $(this).attr("key");
					// 赋值结构
					data[key] = $validators.data[key];
					// 是否验证成功
					if (data[key].callback) {
						// 执行验证并回调
						data[key].callback($validators.start(data));
					}
				});
			}
		}
	},
	// 触发验证
	start: function() {
		// 默认通过
		var issuccess = true;
		// 验证结构选择
		var validators = arguments[0] || $validators.data;
		// 取消错误状态
		$(".app_input").removeClass("err").find(".lbl_err").html("");
		// 循环验证
		for (var n in validators) {
			// 获取验证文本
			var str = $("input[name='" + n + "']").val();
			// 非空验证
			if (validators[n].notEmpty) {
				if (str == "") {
					issuccess = false;
					$("input[name='" + n + "']").parent().addClass("err").find(".lbl_err").html(validators[n].notEmpty.message);
				}
			}
			// 长度验证
			if (!$("input[name='" + n + "']").parent().hasClass("err") && validators[n].stringLength) {
				// 验证最小或最大
				if ((validators[n].stringLength.min && str.length < validators[n].stringLength.min) || (validators[n].stringLength.max && str.length > validators[n].stringLength.max)) {
					issuccess = false;
					$("input[name='" + n + "']").parent().addClass("err").find(".lbl_err").html(validators[n].stringLength.message);
				}
			}
			// 格式验证
			if (!$("input[name='" + n + "']").parent().hasClass("err") && validators[n].regular) {
				if (!str.match(validators[n].regular.reg)) {
					issuccess = false;
					$("input[name='" + n + "']").parent().addClass("err").find(".lbl_err").html(validators[n].regular.message);
                }
			}
		}
		// f返回验证结果
		return issuccess;
	}
};